# Two-body problem unsing RK2 and RK3

This repository contains an implementation of Runge-Kutta of second and third order solvers for the two-body problem

using the Message Passing Interface (MPI). The solver uses a Fourier spectral method to solve the partial differential equation and the solution is obtained using the ODE integration routine provided by the scipy.integrate module.
The solver is written in Python and consists of the following files:

## 1) kepler.py

This file contains the main code for solving the two-body problem between the Earth and Sun using either RK2 or RK3. The code uses the argparse library to set the parameters for each simulation.

The code has been written in Python and requires the following packages to be installed:

    numpy
    matplotlib
    os
    glob
    PIL
    argparse

## Usage

The solver can be run in the terminal where the folder is located following command:

    mpiexec -n <number of processes> python diffusionMPI.py
    
    python kepler.py -im -g -RK <order of the RK (2 or 3)> -T <number of periods> -e <eccentricity value>.

where <number of processes> is the number of processes to be used in parallelization.

The output of the code is saved in the current and outputfolder directory, which is created if it does not exist. The output includes a logfile and a plot of the temperature as a function of temperature and time.

## 2) analysis.ipynb

This Python script reads log files generated by a serial run and multiple parallel runs of a diffusion calculation. It then creates a plot with the computing time on the Y-axis and the number of cores on the X-axis. Amdahl's law is also displayed on the plot for comparison purposes.
Prerequisites

This script requires the following Python modules to be installed:

    glob
    numpy
    matplotlib

Usage

    1.- Place the script and log files in the same directory.
    2.- Open a terminal and navigate to the directory containing the script and log files.
    3.- Run the script by typing  python diffusionplot.py.
    4.- The script will create a plot showing the computing time on the Y-axis and the number of cores on the X-axis. Amdahl's law is also displayed on the plot for comparison purposes.
    5.- The resulting plot will be saved in a file named Mpi_plot.png in the output_folder directory.

The output of the code is saved in the current and outputfolder directory, which is created if it does not exist. The output includes a logfile and a plot of the temperature as a function of temperature and time.

## Comments on findings

The plot generated by the script shows that as the number of cores used in the parallel runs increases, the computing time decreases, as expected. Nevertheless, it also shows that the decrease in computation time is not directly proportional to the augmentation in the number of cores deployed, but it follows an inverse proportionality pattern. This behaviour is in agreement with Amdahl's law t/n, which predicts that the speed gained from parallelizing a computation depends on the count of cores/processes employed for our calculations. 
